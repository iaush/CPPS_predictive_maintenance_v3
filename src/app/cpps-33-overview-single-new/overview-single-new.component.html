<div>
  <div class="row">
    <div class="col-12">
      <app-view-heading [title]="'Overview'"></app-view-heading>
      <p class="objective-text"> Prescriptive maintenance aims to provide a sequence of prescriptive actions to best optimize maintenance cost when a machine failure is detected</p>

    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <h2 class="mt-1 mb-0">How It Works</h2>
    </div>
  </div>

  <!--<div class="row mt-4 p-4 pt-2 details-panel" *ngIf="current === 1">-->
  <div class="row mt-1 p-4 pt-2 details-panel">

    <div row col-12>
      <h3>Description</h3>
      <div class="col-12  d-flex justify-content-center mt-3">
      <app-overview-stepper class="w-100" [steps]="steps" [currentStep]="current" (onCurrentChange)="onCurrentChange($event)"  ></app-overview-stepper>
      </div>
      <p class="mt-3" style="text-align:justify">
        Upon detecting performance degradation, the WP3.1 algorithm
        determines the root cause of the issue. This narrows down an entire list of all possible maintenance actions
        to only related ones. The prescriptive maintenance algorithm thus utilizes the focused list of maintenance actions 
        to recommend prescriptive actions that would optimize the maintenance cost to provide the most cost-effective solution.
      </p>
    </div>

    <div class="col-12 col-md-4 ">
      <div class="">
        <h3>Problem</h3>

        <div class="d-flex justify-content-between" style="text-align:left">
          <img class="details-image" src="assets/img/risk.png" alt="">
            <ol>
              <li>
                Current predictive maintenance methodology predicts failure but provides no 
                information on what actions one should take
              </li>
              <br>
              <li>
                There are many possible maintenance actions, but it is
                hard to calculate cost effectiveness on which action and when to take it
              </li>
              <br>
            </ol> 
        </div>
      </div>

    </div>
    <div class="col-12 col-md-4 ">
      <div class="">
        <h3>Capabilities</h3>
        <br>
        <div class="d-flex justify-content-between">
<!--          <img class="details-image" src="/assets/img/link.png" alt="">-->
          <div class="me-3" style="text-align:left">
            <!--<span class="fw-bolder">Knowledge-based Root Cause Analysis</span><br>
            Unsupervised learning algorithm determines the root cause of the system failure to facilitate the decision of the maintenance actions.<br><br>-->
            <h4 class="fw-bolder mb-2 mt-0" >1. Optimal prescriptive action
              <span class="k-icon k-i-question  k-color-warning k-icon-xl icon-grp2 mt-0 mb-0" *ngIf="!opened" (click)="open()"></span>
            </h4>

            <kendo-dialog
            title="Deep reinforcement learning"
            *ngIf="opened"
            (close)="close()"
            width="75%">
              <kendo-dialog-titlebar>
                  <div style="font-size: 2vw; ">
                      Deep reinforcement learning
                    </div>


              </kendo-dialog-titlebar>
              <div class="row" style="text-align:left">
                  <div class="col-12">
                      <h2 class="mt-0">1. Differences between deep learning and deep reinforcement learning</h2>
                      <p>
                        Traditional deep learning learns from a training set and then applies the learnt parameters to a new data set, reinforcement learning / deep reinforcement dynamically learns by adjusting actions based continuous feedback to maximize pre-defined reward.  
                      </p>
                  </div>
              

              
                  <div class="col-12">
                      <h2 class="mt-0">2. Advantages of CPPS WP3.3 algorithm</h2>
                      <ul>
                          <li>Traditional RL algorithms wherein an agent learns from reward, our algorithm learns a mapping from desired rewards and observations to actions. 
                          Our algorithm includes two parallel algorithms: </li>
                            <ul>
                              <li>A1 performs execution and exploration</li>
                              <li>A2 performs supervised learning. A1 generates actions based on known maximum possible cumulative rewards using the current version of the model trained by A2.</li>
                            </ul><br>
                          <li>For the sake of exploration, random actions are taken occasionally. The observations, actions and rewards are saved in a buffer. A2 uses historical data that is extracted from the buffer to train the model that maps the observation and maximum possible cumulative rewards to optimal action.                            
                            Relying purely on offline data makes offline RL a perfect choice for maintenance decision-making wherein storing historical data to learn a policy is much more cost-effective than developing a simulator that can model the problem accurately. </li>
                      </ul>

                  </div>
              </div>
              </kendo-dialog>

            

            Deep reinforcement learning algorithm to recommend maintenance actions that optimizes the maintenance cost.

          </div>
        </div>

      </div>

    </div>
    <div class="col-12 col-md-4 ">
      <div class="">
        <h3>Benefits</h3>

        <div class="d-flex justify-content-between">
          <img class="details-image" src="assets/img/thumbs.png" alt="">
          <ol class="me-3">
            <li class="ps-1">
              Provides prescriptive suggestion for detected error
            </li>
            <li class="mt-3 ps-1">
              Determines optimal time for prescriptive action to lower maintenance cost
            </li>
          </ol>
        </div>
      </div>
    </div>
    <!--<div class="col-12 col-md-4 ">

      <div class="">
        <h3>Benefits</h3>

        <div class="d-flex justify-content-between">


          <img class="details-image" src="/assets/img/thumbs.png" alt="">-->
          <!--<kendo-grid [kendoGridBinding]="comparison_table" [scrollable]="scroll" style="font-size: 1vw; ">
                  <kendo-grid-column 
                  [headerStyle]="{ 'text-align': 'center' }" 
                  [style]="{ 'text-align': 'center' , 'width': '30%'}" 
                  field ='actions' title=""></kendo-grid-column>
                  <kendo-grid-column 
                  [headerStyle]="{ 'text-align': 'center',  'white-space': 'pre-wrap'}" 
                  [style]="{ 'text-align': 'center', 'width' :'35%'}" 
                  field ='Pred' title="Predictive  (State-of-the-art)"></kendo-grid-column>
                  <kendo-grid-column 
                  [headerStyle]="{ 'text-align': 'center' ,  'white-space': 'pre-wrap'}" 
                  [style]="{ 'text-align': 'center', 'width' :'35%' }" 
                  field ='Pres' title="Prescriptive (CPPS)"></kendo-grid-column>
            </kendo-grid>
        </div>
      </div>
    </div>-->
  </div>
  <div class="row mt-4">
    <div class="col-4 offset-4 d-flex justify-content-center align-items-center">
      <button class="button k-button k-primary " [routerLink]="['/outcomes_dataset']">View Overall Outcomes</button>
      <a class="anchor-button ms-3" [routerLink]="['/cpps-pdm-mainteance-action-performance-algo']">View Results</a>
    </div>
  </div>
</div>
